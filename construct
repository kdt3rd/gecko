assert( check_version and check_version( "1.0" ), "Please upgrade constructor" );

add_module_path "config"

Doxygen = require "doxygen"
AddUnitTest, AddSlowUnitTest = table.unpack( require "UnitTest" )
require "MingWw64"

configuration "release"
  optimization "heavy"
  warnings "most"
  defines "NDEBUG"

if toolset_active( "mingw-w64-archiver" ) and toolset_active( "mingw-w64-gcc" ) then

	configuration "win64cross-release"
      system "Windows"
	  toolset "mingw-w64-archiver"
      toolset "mingw-w64-gcc"
	  skip_on_error( true )
      optimization "optdebug"
      warnings "most"
	  style "app"
      --os_version "vista"
      defines { "NDEBUG", "_USE_MATH_DEFINES", "WINVER=0x0600" }

end

configuration "build"
  optimization "optdebug"
  warnings "most"

configuration "debug"
  optimization "debug"
  warnings "most"

default_configuration "build"
language "c++11"
threads "on"

Doxygen( "docs", "docs/doxyfile" )

includes "libs"

l = subdir "libs"
subdir "apps"
subdir "tests"
