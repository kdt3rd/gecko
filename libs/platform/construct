
local xlib = subdir "xlib"
local cocoa = subdir "cocoa"
--local mswin = subdir "mswin"

lib = library "platform"
  source{
		"platform.cpp";
		"system.cpp";
		"screen.cpp";
		"window.cpp";
		"timer.cpp";
		"keyboard.cpp";
		"mouse.cpp";
		"dispatcher.cpp";
		xlib.extra_source;
		cocoa.extra_source;
  }
  optional_source{
	  {
		  system="Linux",
		  source={ "linux.cpp" }
	  },
	  {
		  system="Darwin",
		  source={ "darwin.cpp" }
	  },
	  {
		  system="Windows",
		  source={ "mswin.cpp" }
	  },
  }
  libs{ "draw", "utf" }
  system_libs{
	  system="Linux";
	  libs=xlib.extra_libs;
  }
  system_libs{
	  system="Darwin";
	  libs=cocoa.extra_libs;
  }
