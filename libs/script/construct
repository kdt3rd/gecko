
local srcs = {
	"font.cpp",
	"font_manager.cpp"
}

local extralibs = nil

if sys.system() == "Darwin" then
	table.insert( srcs, "cocoa/font_manager.mm" )
	table.insert( srcs, "cocoa/font.mm" )
	table.insert( srcs, "darwin.cpp" )
	extralibs = { ExternalLibrary( "AppKit" ), ExternalLibrary( "Cocoa" ) }
elseif sys.system() == "Linux" then
	table.insert( srcs, "fontconfig/font_manager.cpp" )
	table.insert( srcs, "fontconfig/font.cpp" )
	table.insert( srcs, "linux.cpp" )
	extralibs = { FREETYPE, FONTCONFIG }
end

lib = Library( "script", srcs, UseLibraries( "base", "utf" ), extralibs )
